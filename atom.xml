<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Ice Write Blog]]></title>
  <link href="http://iceongrass.github.io/atom.xml" rel="self"/>
  <link href="http://iceongrass.github.io/"/>
  <updated>2013-11-11T01:35:48+08:00</updated>
  <id>http://iceongrass.github.io/</id>
  <author>
    <name><![CDATA[iceongrass]]></name>
    <email><![CDATA[iceongrass@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Scala很神奇]]></title>
    <link href="http://iceongrass.github.io/blog/2013/11/11/scalahen-shen-qi/"/>
    <updated>2013-11-11T01:25:00+08:00</updated>
    <id>http://iceongrass.github.io/blog/2013/11/11/scalahen-shen-qi</id>
    <content type="html"><![CDATA[<p>起初听到这个名词是在公司里，组内的技术大牛说这玩意是未来的语言。各种社区里也把scala吹的是神乎其神，可惜一整年忙于乱七八糟的事情一直没有机会深入了解。托csdn的福，没有让我赋闲在家的这段时间过于无聊，也开始接触了这门全新的语言。</p>

<hr />

<h2>嘛是Scala？</h2>

<p>这玩意是跑在Java上的。代码可以与Java的代码无缝对接，语法格式某种程度上与python相似。这是一种类lisp的函数式语言，可以写的很像python和Java，也可以写的像楚留香……</p>

<p>如果你用Java写过代码，又了解些python方面的语法和特点，你看到用Scala写出的代码大概不会太难理解。废话少说，给个例子：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">printArgs</span><span class="o">(</span><span class="n">args</span><span class="k">:</span><span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">var</span> <span class="n">i</span> <span class="k">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>  <span class="k">while</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">args</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">println</span><span class="o">(</span><span class="n">args</span><span class="o">(</span><span class="n">i</span><span class="o">))</span>
</span><span class='line'>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">printArgs</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>代码本身很简单，就是接收参数，然后把参数中的string逐行打印。语法特点相信大家应该也注意到了，scala中变量的类型声明和函数返回值类型是通过：后跟变量类型的方式完成的。Coding的时候，一条语句时“；”可选，代码块的缩进默认为两个空格执行。代码风格上scala讲究极简，能省略的就省略。</p>

<p>其实这些都好理解，最大的不同大概在于函数定义的方式上吧。函数式编程的理念就是”函数是第一公民“。Java中一切都是对象，定义函数一般通过“方法”的形式定义在类中。所以Scala在对待函数的方式上更像python。区别在于，python的函数名就是个symbol，而scala中的“=”让函数名更像是一个容器，装函数的容器。当然，这么说有些不严密，因为python中也是有lamda的^_^</p>

<p>函数执行结果是这个样字的：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>scala printArgs.scala hi , world !
</span><span class='line'>hi
</span><span class='line'>,
</span><span class='line'>world
</span><span class='line'>!
</span></code></pre></td></tr></table></div></figure>


<p>然而，我给出的这个例子并不是真正的scala式编程。函数式的编程风格一般不喜欢变量（var）而更倾向于常量（var）更多情况下，他们会这样写代码：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">printArgs</span><span class="o">(</span><span class="n">args</span><span class="k">:</span><span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span> <span class="k">=</span> <span class="n">args</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">println</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">printArgs</span><span class="o">(</span><span class="n">args</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>很飘逸，是不？一个变量没有，对象调用方法时println直接作为参数传入，要理解这个语句（如果您至少有个大学结业证的话）只要靠读的就好：把args中的每一个都用println搞一遍。</p>

<p>好吧，如果你觉得上面这个例子不够分量，那我们再来个稍微复杂些的例子。</p>

<hr />

<h2>另一个例子</h2>

<p>对于IT男来说，除了“hello world”和苍井空之外比较广为人知的，Fibonacci数列肯定算一个。相信大家入门时都写过这个算法，这里我给大家看看scala的实现。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">fib</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="n">n</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">0</span> <span class="k">=&gt;</span> <span class="mi">0</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">1</span> <span class="k">=&gt;</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">fib</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">fib</span><span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>相信不用我做过多解释各位看官就能理解。然而这并不是一个好的实现，当n比较大的时候，第三个case将产生很深的调用栈，很容易产生栈溢出。比较好的解决方法当然是用尾递归，但是就需要对算法进行修改。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">fib</span><span class="o">(</span><span class="n">tmp1</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">tmp2</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="n">n</span> <span class="k">match</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">0</span> <span class="k">=&gt;</span> <span class="n">tmp1</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">1</span> <span class="k">=&gt;</span> <span class="n">tmp2</span>
</span><span class='line'>  <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">fib</span><span class="o">(</span><span class="n">tmp2</span><span class="o">,</span> <span class="n">tmp1</span><span class="o">+</span><span class="n">tmp2</span><span class="o">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">println</span><span class="o">(</span><span class="n">fib</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">args</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">toInt</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>这显然不是段很好看的代码，而且平白无故的多引入了两个参数，语法也不足够的飘逸和简练。首先我得承认，我的修行不够，但从算法来看要实现的话肯定有更好的写法。不过Scala的文档中有一个通过不可变流（Immutable Stream）来生成斐波那契数列的方法倒是值得与大家分享一下。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">fibForm</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">b</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Stream</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="n">a</span> <span class="o">#::</span> <span class="n">fibForm</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">)</span>
</span><span class='line'><span class="n">println</span><span class="o">(</span><span class="n">fibForm</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">).</span><span class="n">take</span><span class="o">(</span><span class="n">args</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">toInt</span><span class="o">).</span><span class="n">last</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>简单解释一下。关键部分是“#::“，这并不是一段注释，而是scala中的stream容器内定义的一个方法，其作用是向stream中追加一个元素。第二句的take方法把外部的参数传给fibForm(1, 1)，作用是按照fibForm定义的方式生成含有args(0).toInt个元素的stream，last方法则返回了stream的最后一个元素值。</p>

<p>这段代码其实先是按照传入的参数生成了一个相应数目个元素的数列，然后返回了最后一个元素值，如果只是求值的话空间上有些浪费。</p>

<p>作为初识的话，我觉得写到这里差不多够了。这门语言水很深，还是需要努力学习啊！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[First Try]]></title>
    <link href="http://iceongrass.github.io/blog/2013/08/20/first-try/"/>
    <updated>2013-08-20T12:34:00+08:00</updated>
    <id>http://iceongrass.github.io/blog/2013/08/20/first-try</id>
    <content type="html"><![CDATA[<h1>Github博客第一弹</h1>

<h3>貌似应该各种牛逼的功能挨个用一遍</h3>

<p>关于斜体和粗体，这是 <em>斜体</em>，这是 <strong>粗体</strong>。语法规则跟twiki还是很像的。</p>

<h3>2. 使用 === 表示一级标题，使用 &mdash;&ndash; 表示二级标题</h3>

<p>示例：</p>

<h1>这是一个一级标题</h1>

<h2>这是一个二级标题</h2>

<h3>这是一个三级标题</h3>

<p>你也可以选择在行首加井号表示不同级别的标题，例如：# H1, ## H2, ### H3。</p>

<h3>3. 使用 [描述](链接地址) 为文字增加外链接</h3>

<p>示例：</p>

<p>这是去往 <a href="http://ghosertblog.github.com">本人博客</a> 的链接。</p>

<h3>4. 在行末加两个空格表示换行</h3>

<p>示例：</p>

<p>第一行(此行最右有两个看不见的空格)<br/>
第二行</p>

<h3>5. 使用 *，+，- 表示无序列表</h3>

<p>示例：</p>

<ul>
<li>无序列表项 一</li>
<li>无序列表项 二</li>
<li>无序列表项 三</li>
</ul>


<h3>6. 使用数字和点表示有序列表</h3>

<p>示例：</p>

<ol>
<li>有序列表项 一</li>
<li>有序列表项 二</li>
<li>有序列表项 三</li>
</ol>


<h3>7. 使用 > 表示文字引用</h3>

<p>示例：</p>

<blockquote><p>野火烧不尽，春风吹又生</p></blockquote>

<h3>8. 使用 `代码` 表示行内代码块</h3>

<p>示例：</p>

<p>让我们聊聊 <code>html</code></p>

<h3>9.  使用 四个缩进空格 表示代码块</h3>

<p>示例：</p>

<pre><code>这是一个代码块，此行左侧有四个不可见的空格
</code></pre>

<h3>10.  使用 ![描述](图片链接地址) 插入图像</h3>

<p>示例：</p>

<p><img src="http://tp3.sinaimg.cn/2204681022/180/5606968568/1" alt="我的头像" /></p>

<h1>Cmd 高阶语法手册</h1>

<h3>1. LaTeX 公式，表达式支持</h3>

<p>$ 表示行内公式：</p>

<p>质能守恒方程可以用一个很简洁的方程式 $E=mc<sup>2</sup>$ 来表达</p>

<p>$$ 表示整行公式：</p>

<p>$$\sum_{i=1}^n a_i=0$$</p>

<p>$$f(x_1,x_x,\ldots,x_n) = x_1<sup>2</sup> + x_2<sup>2</sup> + \cdots + x_n<sup>2</sup> $$</p>

<h3>2. 加强的代码块，支持四十一种编程语言的语法高亮的显示，行号显示</h3>

<p>非代码示例：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install vim-gnome</span></code></pre></td></tr></table></div></figure>


<p>Python 示例：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="nd">@requires_authorization</span>
</span><span class='line'><span class="k">def</span> <span class="nf">somefunc</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span class='line'>    <span class="sd">r&#39;&#39;&#39;A docstring&#39;&#39;&#39;</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">param1</span> <span class="o">&gt;</span> <span class="n">param2</span><span class="p">:</span> <span class="c"># interesting</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&#39;Greater&#39;</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span><span class="n">param2</span> <span class="o">-</span> <span class="n">param1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">None</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">SomeClass</span><span class="p">:</span>
</span><span class='line'>    <span class="k">pass</span>
</span><span class='line'>
</span><span class='line'><span class="o">&gt;&gt;&gt;</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;interpreter</span>
</span><span class='line'><span class="s">... prompt&#39;&#39;&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>JavaScript 示例：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm">* nth element in the fibonacci series.</span>
</span><span class='line'><span class="cm">* @param n &gt;= 0</span>
</span><span class='line'><span class="cm">* @return the nth element, &gt;= 0.</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">fib</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">tmp</span><span class="p">;</span>
</span><span class='line'>  <span class="k">while</span> <span class="p">(</span><span class="o">--</span><span class="nx">n</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">a</span> <span class="o">+=</span> <span class="nx">b</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">b</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">a</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">fib</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3. 表格支持</h3>

<p>示例：</p>

<table>
<thead>
<tr>
<th></th>
<th> 项目        </th>
<th align="right"> 价格   </th>
<th align="center">  数量  </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td> 计算机     </td>
<td align="right"> $1600 </td>
<td align="center">   5     |</td>
</tr>
<tr>
<td></td>
<td> 手机        </td>
<td align="right">   $12   </td>
<td align="center">   12   |</td>
</tr>
<tr>
<td></td>
<td> 管线        </td>
<td align="right">    $1    </td>
<td align="center">  234  |</td>
</tr>
</tbody>
</table>


<h3>4. 定义型列表</h3>

<p>名词 1
:   定义 1（左侧有一个可见的冒号和四个不可见的空格）</p>

<p>代码快 2
:   这是代码块的定义（左侧有一个可见的冒号和四个不可见的空格）</p>

<pre><code>    代码块（左侧有八个不可见的空格）
</code></pre>

<p>先这么着吧，回头慢慢研究。
话说，上次键盘同学分享的在线markdown编辑器还是蛮有意思的，附个链接在这里：</p>

<p>   <a href="http://ghosertblog.github.io/mdeditor/">http://ghosertblog.github.io/mdeditor/</a></p>
]]></content>
  </entry>
  
</feed>
